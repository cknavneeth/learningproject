<!-- Overlay -->
<div class="fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50">
  <!-- Modal Container -->
  <div class="relative bg-white rounded-2xl shadow-xl w-full max-w-md p-8">

    @if(isEditMode){
       <h2 class="text-2xl font-bold mb-6 text-center">Edit Your Payout</h2>
    }
    @else{
        <h2 class="text-2xl font-bold mb-6 text-center">Payout Details</h2>
    }
   

    <button
      (click)="closeModal()"
      class="absolute top-4 right-4 text-gray-400 hover:text-gray-600 text-2xl font-bold focus:outline-none"
    >
      &times;
    </button>

    <form [formGroup]="payoutForm" (ngSubmit)="onSubmit()" class="space-y-4">
      <!-- Name -->
      <div>
        <label class="block text-sm font-medium mb-1">Name</label>
        <input
          formControlName="name"
          type="text"
          placeholder="Enter your name"
          class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
        />

         <p *ngIf="payoutForm.get('name')?.touched && payoutForm.get('name')?.errors?.['required']"
     class="text-red-500 text-xs mt-1">Name is required.</p>
       <p *ngIf="payoutForm.get('name')?.touched && payoutForm.get('name')?.errors?.['minlength']"
     class="text-red-500 text-xs mt-1">Name must be at least 3 characters.</p>
      </div>

      <!-- Email -->
      <div>
        <label class="block text-sm font-medium mb-1">Email</label>
        <input
          formControlName="email"
          type="email"
          placeholder="Enter your email"
          class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
        />

        <p *ngIf="payoutForm.get('email')?.touched && payoutForm.get('email')?.errors?.['required']"
     class="text-red-500 text-xs mt-1">Email is required.</p>
  <p *ngIf="payoutForm.get('email')?.touched && payoutForm.get('email')?.errors?.['email']"
     class="text-red-500 text-xs mt-1">Invalid email address.</p>

      </div>

      <!-- Phone -->
      <div>
        <label class="block text-sm font-medium mb-1">Phone</label>
        <input
          formControlName="phone"
          type="text"
          placeholder="Enter your phone"
          class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
        />


        <p *ngIf="payoutForm.get('phone')?.touched && payoutForm.get('phone')?.errors?.['minlength']"
     class="text-red-500 text-xs mt-1">Phone must be 10 digits.</p>
  <p *ngIf="payoutForm.get('phone')?.touched && payoutForm.get('phone')?.errors?.['maxlength']"
     class="text-red-500 text-xs mt-1">Phone must be 10 digits.</p>
      </div>

      <!-- IFSC -->
      <div>
        <label class="block text-sm font-medium mb-1">IFSC</label>
        <input
          formControlName="ifsc"
          type="text"
          placeholder="Enter your IFSC"
          class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
        />


        <p *ngIf="payoutForm.get('ifsc')?.touched && payoutForm.get('ifsc')?.errors?.['required']"
     class="text-red-500 text-xs mt-1">IFSC is required.</p>
  <p *ngIf="payoutForm.get('ifsc')?.touched && payoutForm.get('ifsc')?.errors?.['pattern']"
     class="text-red-500 text-xs mt-1">Invalid IFSC format. Example: HDFC0001234</p>
      </div>

      <!-- Account Number -->
      <div>
        <label class="block text-sm font-medium mb-1">Account Number</label>
        <input
          formControlName="accountNumber"
          type="text"
          placeholder="Enter your account number"
          class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
        />
      </div>

      <!-- Account Holder Name -->
      <div>
        <label class="block text-sm font-medium mb-1">Account Holder Name</label>
        <input
          formControlName="accountHolderName"
          type="text"
          placeholder="Enter account holder name"
          class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
        />
      </div>

      <!-- Submit Button -->
      <div>
        <button
          type="submit"
          [disabled]="payoutForm.invalid"
          class="w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-4 rounded-md disabled:opacity-50 disabled:cursor-not-allowed transition duration-200"
        >
          Submit Payout
        </button>
      </div>
    </form>
  </div>
</div>

