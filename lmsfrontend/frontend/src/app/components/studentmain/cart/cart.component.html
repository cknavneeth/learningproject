<div class="container mx-auto px-4 py-8">
    <h1 class="text-3xl font-bold mb-8">Shopping Cart</h1>

    <!-- Loading State -->
    <div *ngIf="loading" class="flex justify-center items-center py-12">
        <mat-spinner diameter="40"></mat-spinner>
    </div>

    <!-- Error State -->
    <div *ngIf="error" class="text-red-500 text-center py-8">
        {{ error }}
    </div>

    <!-- Empty Cart -->
    <div *ngIf="!loading && !error && cartItems.length === 0" 
         class="text-center py-12 bg-gray-800 rounded-xl">
        <mat-icon class="text-6xl mb-4 text-gray-600">shopping_cart</mat-icon>
        <p class="text-xl mb-4">Your cart is empty</p>
        <button mat-raised-button color="primary" routerLink="/student/courses">
            Browse Courses
        </button>
    </div>

    <!-- Cart Items -->
    <div *ngIf="!loading && !error && cartItems.length > 0" class="grid gap-6">
        <!-- Cart Items List -->
        <div class="bg-gray-800 rounded-xl p-6">
            <div *ngFor="let item of cartItems" class="flex items-center justify-between py-4 border-b border-gray-700 last:border-0">
                <div class="flex items-center space-x-4">
                    <img [src]="item.courseId.thumbnailUrl" 
                         class="w-24 h-16 object-cover rounded" 
                         [alt]="item.courseId.title">
                    <div>
                        <h3 class="text-lg font-semibold">{{ item.courseId.title }}</h3>
                        <p class="text-gray-400">by {{ item.courseId.instructor.name }}</p>
                    </div>
                </div>
                <div class="flex items-center space-x-4">
                    <span class="text-xl font-bold">₹{{ item.courseId.price }}</span>
                    <button mat-icon-button color="warn" (click)="removeItem(item.courseId._id,item.courseId.title)">
                        <mat-icon>delete</mat-icon>
                    </button>
                </div>
            </div>
        </div>

        <!-- Cart Summary -->
        <div class="bg-gray-800 rounded-xl p-6">
            <div class="flex justify-between items-center mb-4">
                <span class="text-xl">Total:</span>
                <span class="text-2xl font-bold">₹{{ totalAmount }}</span>
            </div>
            <div class="space-y-4">
                <button mat-raised-button color="primary" 
                        class="w-full" 
                        (click)="proceedToCheckout()">
                    Proceed to Checkout
                </button>
                <button mat-stroked-button color="warn" 
                        class="w-full"
                        (click)="clearCart()">
                    Clear Cart
                </button>
            </div>
        </div>
    </div>
</div>